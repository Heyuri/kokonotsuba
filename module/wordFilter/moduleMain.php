<?php

namespace Kokonotsuba\Modules\wordFilter;

use Kokonotsuba\ModuleClasses\abstractModuleMain;

class moduleMain extends abstractModuleMain {
	private array $FILTERS;
	private readonly string $staticUrl;

	public function initialize(): void {
		$this->staticUrl = $this->getConfig('STATIC_URL');
		
		$this->FILTERS = $this->getConfig('ModuleSettings.FILTERS');
		
		$this->addEmojiFilters();

		$this->moduleContext->moduleEngine->addListener('RegistBeforeCommit', function ($name, &$email, &$sub, &$com, &$category, &$age, $file, $isReply, &$status, $thread) {
			$this->onBeforeCommit($com);  // Call the method to modify the form
		});
	}
		 
	public function getName(): string {
		return 'K! Word Filter';
	}
		 
	public function getVersion(): string {
		return 'Koko BBS Release 1';
	}

	private function addEmojiFilters() {
				$emojis = [
					'ðŸ˜ƒ' => 'Grinning-Face-with-Big-Eyes',
					'ðŸ˜„' => 'Grinning-Face-with-Smiling-Eyes',
					'ðŸ˜' => 'Beaming-Face-with-Smiling-Eyes',
					'ðŸ˜‚' => 'Face-with-Tears-of-Joy',
					'ðŸ˜‰' => 'Winking-Face',
					'ðŸ˜Š' => 'Smiling-Face-with-Smiling-Eyes',
					'ðŸ˜' => 'Smiling-Face-with-Heart-Eyes',
					'ðŸ˜˜' => 'Face-Blowing-a-Kiss',
					'â˜º' => 'Smiling-Face',
					'ðŸ˜š' => 'Kissing-Face-with-Closed-Eyes',
					'ðŸ˜œ' => 'Winking-Face-with-Tongue',
					'ðŸ˜' => 'Squinting-Face-with-Tongue',
					'ðŸ˜' => 'Smirking-Face',
					'ðŸ˜’' => 'Unamused-Face',
					'ðŸ˜Œ' => 'Relieved-Face',
					'ðŸ˜”' => 'Pensive-Face',
					'ðŸ˜ª' => 'Sleepy-Face',
					'ðŸ˜·' => 'Face-with-Medical-Mask',
					'ðŸ˜²' => 'Astonished-Face',
					'ðŸ˜³' => 'Flushed-Face',
					'ðŸ˜¨' => 'Fearful-Face',
					'ðŸ˜°' => 'Anxious-Face-with-Sweat',
					'ðŸ˜¥' => 'Sad-but-Relieved-Face',
					'ðŸ˜¢' => 'Crying-Face',
					'ðŸ˜­' => 'Loudly-Crying-Face',
					'ðŸ˜±' => 'Face-Screaming-in-Fear',
					'ðŸ˜–' => 'Confounded-Face',
					'ðŸ˜£' => 'Persevering-Face',
					'ðŸ˜ž' => 'Disappointed-Face',
					'ðŸ˜“' => 'Downcast-Face-with-Sweat',
					'ðŸ˜¡' => 'Enraged-Face',
					'ðŸ˜ ' => 'Angry-Face',
					'ðŸ‘¿' => 'Angry-Face-with-Horns',
					'ðŸ’€' => 'Skull',
					'ðŸ’©' => 'Pile-of-Poo',
					'ðŸ‘»' => 'Ghost',
					'ðŸ‘½' => 'Alien',
					'ðŸ‘¾' => 'Alien-Monster',
					'ðŸ’‹' => 'Kiss-Mark',
					'ðŸ’˜' => 'Heart-with-Arrow',
					'ðŸ’' => 'Heart-with-Ribbon',
					'ðŸ’—' => 'Growing-Heart',
					'ðŸ’“' => 'Beating-Heart',
					'ðŸ’Ÿ' => 'Heart-Decoration',
					'ðŸ’”' => 'Broken-Heart',
					'â¤' => 'Red-Heart',
					'ðŸ’›' => 'Yellow-Heart',
					'ðŸ’š' => 'Green-Heart',
					'ðŸ’™' => 'Blue-Heart',
					'ðŸ’œ' => 'Purple-Heart',
					'ðŸ’¢' => 'Anger-Symbol',
					'ðŸ’¦' => 'Sweat-Droplets',
					'ðŸ’¨' => 'Dashing-Away',
					'ðŸ’£' => 'Bomb',
					'ðŸ’¤' => 'Zzz',
					'ðŸ‘‹' => 'Waving-Hand',
					'âœ‹' => 'Raised-Hand',
					'ðŸ‘Œ' => 'OK-Hand',
					'âœŒ' => 'Victory-Hand',
					'ðŸ‘ˆ' => 'Backhand-Index-Pointing-Left',
					'ðŸ‘‰' => 'Backhand-Index-Pointing-Right',
					'ðŸ‘†' => 'Backhand-Index-Pointing-Up',
					'ðŸ‘‡' => 'Backhand-Index-Pointing-Down',
					'â˜' => 'Index-Pointing-Up',
					'ðŸ‘' => 'Thumbs-Up',
					'ðŸ‘Ž' => 'Thumbs-Down',
					'âœŠ' => 'Raised-Fist',
					'ðŸ‘Š' => 'Oncoming-Fist',
					'ðŸ‘' => 'Clapping-Hands',
					'ðŸ™Œ' => 'Raising-Hands',
					'ðŸ‘' => 'Open-Hands',
					'ðŸ™' => 'Folded-Hands',
					'ðŸ’…' => 'Nail-Polish',
					'ðŸ’ª' => 'Flexed-Biceps',
					'ðŸ‘‚' => 'Ear',
					'ðŸ‘ƒ' => 'Nose',
					'ðŸ‘€' => 'Eyes',
					'ðŸ‘„' => 'Mouth',
					'ðŸ‘¶' => 'Baby',
					'ðŸ‘¦' => 'Boy',
					'ðŸ‘§' => 'Girl',
					'ðŸ‘±â€â™‚ï¸' => 'PersonË-Blond-Hair',
					'ðŸ‘¨' => 'Man',
					'ðŸ‘©' => 'Woman',
					'ðŸ‘´' => 'Old-Man',
					'ðŸ‘µ' => 'Old-Woman',
					'ðŸ™…â€â™€ï¸' => 'Person-Gesturing-No',
					'ðŸ™†â€â™€ï¸' => 'Person-Gesturing-OK',
					'ðŸ’â€â™€ï¸' => 'Person-Tipping-Hand',
					'ðŸ™‡â€â™‚ï¸' => 'Person-Bowing',
					'ðŸ‘®' => 'Police-Officer',
					'ðŸ’‚â€â™‚ï¸' => 'Guard',
					'ðŸ‘·â€â™‚ï¸' => 'Construction-Worker',
					'ðŸ‘¸' => 'Princess',
					'ðŸ‘³â€â™‚ï¸' => 'Person-Wearing-Turban',
					'ðŸ‘²' => 'Person-with-Skullcap',
					'ðŸ‘¼' => 'Baby-Angel',
					'ðŸŽ…' => 'Santa-Claus',
					'ðŸ’†â€â™€ï¸' => 'Person-Getting-Massage',
					'ðŸ’‡â€â™€ï¸' => 'Person-Getting-Haircut',
					'ðŸš¶â€â™‚ï¸' => 'Person-Walking',
					'ðŸƒâ€â™‚ï¸' => 'Person-Running',
					'ðŸ’ƒ' => 'Woman-Dancing',
					'ðŸ‘¯â€â™€ï¸' => 'People-with-Bunny-Ears',
					'ðŸ„â€â™‚ï¸' => 'Person-Surfing',
					'ðŸŠâ€â™‚ï¸' => 'Person-Swimming',
					'ðŸ›€' => 'Person-Taking-Bath',
					'ðŸ‘«' => 'Woman-and-Man-Holding-Hands',
					'ðŸ’' => 'Kiss',
					'ðŸ’‘' => 'Couple-with-Heart',
					'ðŸ‘£' => 'Footprints',
					'ðŸµ' => 'Monkey-Face',
					'ðŸ’' => 'Monkey',
					'ðŸ¶' => 'Dog-Face',
					'ðŸº' => 'Wolf',
					'ðŸ±' => 'Cat-Face',
					'ðŸ¯' => 'Tiger-Face',
					'ðŸŽ' => 'Horse-Face',
					'ðŸ‡' => 'Horse',
					'ðŸ„' => 'Cow-Face',
					'ðŸ·' => 'Pig-Face',
					'ðŸ—' => 'Boar',
					'ðŸ‘' => 'Ewe',
					'ðŸ«' => 'Two-Hump-Camel',
					'ðŸ˜' => 'Elephant',
					'ðŸ­' => 'Mouse-Face',
					'ðŸ¹' => 'Hamster',
					'ðŸ°' => 'Rabbit-Face',
					'ðŸ»' => 'Bear',
					'ðŸ¨' => 'Koala',
					'ðŸ”' => 'Chicken',
					'ðŸ¤' => 'Baby-Chick',
					'ðŸ¦' => 'Bird',
					'ðŸ§' => 'Penguin',
					'ðŸ¸' => 'Frog',
					'ðŸ' => 'Snake',
					'ðŸ³' => 'Spouting-Whale',
					'ðŸ¬' => 'Dolphin',
					'ðŸŸ' => 'Fish',
					'ðŸ ' => 'Tropical-Fish',
					'ðŸ™' => 'Octopus',
					'ðŸš' => 'Spiral-Shell',
					'ðŸ›' => 'Bug',
					'ðŸ’' => 'Bouquet',
					'ðŸŒ¸' => 'Cherry-Blossom',
					'ðŸŒ¹' => 'Rose',
					'ðŸŒº' => 'Hibiscus',
					'ðŸŒ»' => 'Sunflower',
					'ðŸŒ·' => 'Tulip',
					'ðŸŒ´' => 'Palm-Tree',
					'ðŸŒµ' => 'Cactus',
					'ðŸŒ¾' => 'Sheaf-of-Rice',
					'ðŸ€' => 'Four-Leaf-Clover',
					'ðŸ' => 'Maple-Leaf',
					'ðŸ‚' => 'Fallen-Leaf',
					'ðŸƒ' => 'Leaf-Fluttering-in-Wind',
					'ðŸ‰' => 'Watermelon',
					'ðŸŠ' => 'Tangerine',
					'ðŸŽ' => 'Red-Apple',
					'ðŸ“' => 'Strawberry',
					'ðŸ…' => 'Tomato',
					'ðŸ†' => 'Eggplant',
					'ðŸž' => 'Bread',
					'ðŸ”' => 'Hamburger',
					'ðŸŸ' => 'French-Fries',
					'ðŸ³' => 'Cooking',
					'ðŸ²' => 'Pot-of-Food',
					'ðŸ±' => 'Bento-Box',
					'ðŸ˜' => 'Rice-Cracker',
					'ðŸ™' => 'Rice-Ball',
					'ðŸš' => 'Cooked-Rice',
					'ðŸ›' => 'Curry-Rice',
					'ðŸœ' => 'Steaming-Bowl',
					'ðŸ' => 'Spaghetti',
					'ðŸ¢' => 'Oden',
					'ðŸ£' => 'Sushi',
					'ðŸ¡' => 'Dango',
					'ðŸ¦' => 'Soft-Ice-Cream',
					'ðŸ§' => 'Shaved-Ice',
					'ðŸŽ‚' => 'Birthday-Cake',
					'ðŸ°' => 'Shortcake',
					'â˜•' => 'Hot-Beverage',
					'ðŸµ' => 'Teacup-Without-Handle',
					'ðŸ¶' => 'Sake',
					'ðŸ¸' => 'Cocktail-Glass',
					'ðŸº' => 'Beer-Mug',
					'ðŸ»' => 'Clinking-Beer-Mugs',
					'ðŸ´' => 'Fork-and-Knife',
					'ðŸ—»' => 'Mount-Fuji',
					'ðŸ ' => 'House',
					'ðŸ¢' => 'Office-Building',
					'ðŸ£' => 'Japanese-Post-Office',
					'ðŸ¥' => 'Hospital',
					'ðŸ¦' => 'Bank',
					'ðŸ¨' => 'Hotel',
					'ðŸ©' => 'Love-Hotel',
					'ðŸª' => 'Convenience-Store',
					'ðŸ«' => 'School',
					'ðŸ¬' => 'Department-Store',
					'ðŸ­' => 'Factory',
					'ðŸ¯' => 'Japanese-Castle',
					'ðŸ°' => 'Castle',
					'ðŸ’’' => 'Wedding',
					'ðŸ—¼' => 'Tokyo-Tower',
					'ðŸ›' => 'Shibuya',
					'ðŸ—½' => 'Statue-of-Liberty',
					'â›ª' => 'Church',
					'â›²' => 'Fountain',
					'â›º' => 'Tent',
					'ðŸŒƒ' => 'Night-with-Stars',
					'ðŸŒ„' => 'Sunrise-Over-Mountains',
					'ðŸŒ…' => 'Sunrise',
					'ðŸŒ†' => 'Cityscape-at-Dusk',
					'ðŸŒ‡' => 'Sunset',
					'â™¨' => 'Hot-Springs',
					'ðŸŽ¡' => 'Ferris-Wheel',
					'ðŸŽ¢' => 'Roller-Coaster',
					'ðŸ’ˆ' => 'Barber-Pole',
					'ðŸšƒ' => 'Railway-Car',
					'ðŸš„' => 'High-Speed-Train',
					'ðŸš…' => 'Bullet-Train',
					'ðŸš‡' => 'Metro',
					'ðŸš‰' => 'Station',
					'ðŸšŒ' => 'Bus',
					'ðŸš‘' => 'Ambulance',
					'ðŸš’' => 'Fire-Engine',
					'ðŸš“' => 'Police-Car',
					'ðŸš•' => 'Taxi',
					'ðŸš—' => 'Automobile',
					'ðŸš™' => 'Sport-Utility-Vehicle',
					'ðŸšš' => 'Delivery-Truck',
					'ðŸš²' => 'Bicycle',
					'ðŸš' => 'Bus-Stop',
					'â›½' => 'Fuel-Pump',
					'ðŸš¥' => 'Horizontal-Traffic-Light',
					'ðŸš§' => 'Construction',
					'â›µ' => 'Sailboat',
					'ðŸš¤' => 'Speedboat',
					'ðŸš¢' => 'Ship',
					'âœˆ' => 'Airplane',
					'ðŸ’º' => 'Seat',
					'ðŸš€' => 'Rocket',
					'ðŸ•›' => 'Twelve-Oâ€™Clock',
					'ðŸ•' => 'One-Oâ€™Clock',
					'ðŸ•‘' => 'Two-Oâ€™Clock',
					'ðŸ•’' => 'Three-Oâ€™Clock',
					'ðŸ•“' => 'Four-Oâ€™Clock',
					'ðŸ•”' => 'Five-Oâ€™Clock',
					'ðŸ••' => 'Six-Oâ€™Clock',
					'ðŸ•–' => 'Seven-Oâ€™Clock',
					'ðŸ•—' => 'Eight-Oâ€™Clock',
					'ðŸ•˜' => 'Nine-Oâ€™Clock',
					'ðŸ•™' => 'Ten-Oâ€™Clock',
					'ðŸ•š' => 'Eleven-Oâ€™Clock',
					'ðŸŒ™' => 'Crescent-Moon',
					'â˜€' => 'Sun',
					'â­' => 'Star',
					'ðŸŒŸ' => 'Glowing-Star',
					'â˜' => 'Cloud',
					'ðŸŒ€' => 'Cyclone',
					'ðŸŒˆ' => 'Rainbow',
					'ðŸŒ‚' => 'Closed-Umbrella',
					'â˜”' => 'Umbrella-with-Rain-Drops',
					'âš¡' => 'High-Voltage',
					'â›„' => 'Snowman-Without-Snow',
					'ðŸ”¥' => 'Fire',
					'ðŸŒŠ' => 'Water-Wave',
					'ðŸŽƒ' => 'Jack-O-Lantern',
					'ðŸŽ„' => 'Christmas-Tree',
					'ðŸŽ†' => 'Fireworks',
					'ðŸŽ‡' => 'Sparkler',
					'âœ¨' => 'Sparkles',
					'ðŸŽˆ' => 'Balloon',
					'ðŸŽ‰' => 'Party-Popper',
					'ðŸŽ' => 'Pine-Decoration',
					'ðŸŽŽ' => 'Japanese-Dolls',
					'ðŸŽ' => 'Carp-Streamer',
					'ðŸŽ' => 'Wind-Chime',
					'ðŸŽ‘' => 'Moon-Viewing-Ceremony',
					'ðŸŽ€' => 'Ribbon',
					'ðŸŽ' => 'Wrapped-Gift',
					'ðŸŽ«' => 'Ticket',
					'ðŸ†' => 'Trophy',
					'âš½' => 'Soccer-Ball',
					'âš¾' => 'Baseball',
					'ðŸ€' => 'Basketball',
					'ðŸˆ' => 'American-Football',
					'ðŸŽ¾' => 'Tennis',
					'â›³' => 'Flag-in-Hole',
					'ðŸŽ¿' => 'Skis',
					'ðŸŽ¯' => 'Bullseye',
					'ðŸŽ±' => 'Pool-8-Ball',
					'ðŸŽ°' => 'Slot-Machine',
					'â™ ' => 'Spade-Suit',
					'â™¥' => 'Heart-Suit',
					'â™¦' => 'Diamond-Suit',
					'â™£' => 'Club-Suit',
					'ðŸ€„' => 'Mahjong-Red-Dragon',
					'ðŸŽ¨' => 'Artist-Palette',
					'ðŸ‘”' => 'Necktie',
					'ðŸ‘•' => 'T-Shirt',
					'ðŸ‘—' => 'Dress',
					'ðŸ‘˜' => 'Kimono',
					'ðŸ‘™' => 'Bikini',
					'ðŸ‘œ' => 'Handbag',
					'ðŸŽ’' => 'Backpack',
					'ðŸ‘Ÿ' => 'Running-Shoe',
					'ðŸ‘ ' => 'High-Heeled-Shoe',
					'ðŸ‘¡' => 'Womanâ€™s-Sandal',
					'ðŸ‘¢' => 'Womanâ€™s-Boot',
					'ðŸ‘‘' => 'Crown',
					'ðŸ‘’' => 'Womanâ€™s-Hat',
					'ðŸŽ©' => 'Top-Hat',
					'ðŸŽ“' => 'Graduation-Cap',
					'ðŸ’„' => 'Lipstick',
					'ðŸ’' => 'Ring',
					'ðŸ’Ž' => 'Gem-Stone',
					'ðŸ”Š' => 'Speaker-High-Volume',
					'ðŸ“¢' => 'Loudspeaker',
					'ðŸ“£' => 'Megaphone',
					'ðŸ””' => 'Bell',
					'ðŸŽµ' => 'Musical-Note',
					'ðŸŽ¶' => 'Musical-Notes',
					'ðŸŽ¤' => 'Microphone',
					'ðŸŽ§' => 'Headphone',
					'ðŸ“»' => 'Radio',
					'ðŸŽ·' => 'Saxophone',
					'ðŸŽ¸' => 'Guitar',
					'ðŸŽº' => 'Trumpet',
					'ðŸ“±' => 'Mobile-Phone',
					'ðŸ“²' => 'Mobile-Phone-with-Arrow',
					'â˜Ž' => 'Telephone',
					'ðŸ“ ' => 'Fax-Machine',
					'ðŸ’»' => 'Laptop',
					'ðŸ’½' => 'Computer-Disk',
					'ðŸ’¿' => 'Optical-Disk',
					'ðŸ“€' => 'DVD',
					'ðŸŽ¥' => 'Movie-Camera',
					'ðŸŽ¬' => 'Clapper-Board',
					'ðŸ“º' => 'Television',
					'ðŸ“·' => 'Camera',
					'ðŸ“¼' => 'Videocassette',
					'ðŸ”' => 'Magnifying-Glass-Tilted-Left',
					'ðŸ’¡' => 'Light-Bulb',
					'ðŸ“–' => 'Open-Book',
					'ðŸ’°' => 'Money-Bag',
					'ðŸ’¹' => 'Chart-Increasing-with-Yen',
					'ðŸ“©' => 'Envelope-with-Arrow',
					'ðŸ“«' => 'Closed-Mailbox-with-Raised-Flag',
					'ðŸ“®' => 'Postbox',
					'ðŸ“' => 'Memo',
					'ðŸ’¼' => 'Briefcase',
					'âœ‚' => 'Scissors',
					'ðŸ”’' => 'Locked',
					'ðŸ”“' => 'Unlocked',
					'ðŸ”‘' => 'Key',
					'ðŸ”¨' => 'Hammer',
					'ðŸ”«' => 'Water-Pistol',
					'ðŸ“¡' => 'Satellite-Antenna',
					'ðŸ’‰' => 'Syringe',
					'ðŸ’Š' => 'Pill',
					'ðŸš½' => 'Toilet',
					'ðŸš¬' => 'Cigarette',
					'ðŸ§' => 'ATM-Sign',
					'â™¿' => 'Wheelchair-Symbol',
					'ðŸš¹' => 'Menâ€™s-Room',
					'ðŸšº' => 'Womenâ€™s-Room',
					'ðŸš»' => 'Restroom',
					'ðŸš¼' => 'Baby-Symbol',
					'ðŸš¾' => 'Water-Closet',
					'âš ' => 'Warning',
					'ðŸš­' => 'No-Smoking',
					'ðŸ”ž' => 'No-One-Under-Eighteen',
					'â¬†' => 'Up-Arrow',
					'â†—' => 'Up-Right-Arrow',
					'âž¡' => 'Right-Arrow',
					'â†˜' => 'Down-Right-Arrow',
					'â¬‡' => 'Down-Arrow',
					'â†™' => 'Down-Left-Arrow',
					'â¬…' => 'Left-Arrow',
					'â†–' => 'Up-Left-Arrow',
					'ðŸ”' => 'Top-Arrow',
					'ðŸ”¯' => 'Dotted-Six-Pointed-Star',
					'â™ˆ' => 'Aries',
					'â™‰' => 'Taurus',
					'â™Š' => 'Gemini',
					'â™‹' => 'Cancer',
					'â™Œ' => 'Leo',
					'â™' => 'Virgo',
					'â™Ž' => 'Libra',
					'â™' => 'Scorpio',
					'â™' => 'Sagittarius',
					'â™‘' => 'Capricorn',
					'â™’' => 'Aquarius',
					'â™“' => 'Pisces',
					'â›Ž' => 'Ophiuchus',
					'â–¶' => 'Play-Button',
					'â©' => 'Fast-Forward-Button',
					'â—€' => 'Reverse-Button',
					'âª' => 'Fast-Reverse-Button',
					'ðŸŽ¦' => 'Cinema',
					'ðŸ“¶' => 'Antenna-Bars',
					'ðŸ“³' => 'Vibration-Mode',
					'ðŸ“´' => 'Mobile-Phone-Off',
					'â“' => 'Red-Question-Mark',
					'â”' => 'White-Question-Mark',
					'â•' => 'White-Exclamation-Mark',
					'â—' => 'Red-Exclamation-Mark',
					'ðŸ’±' => 'Currency-Exchange',
					'ðŸ”±' => 'Trident-Emblem',
					'ðŸ”°' => 'Japanese-Symbol-for-Beginner',
					'â­•' => 'Hollow-Red-Circle',
					'âŒ' => 'Cross-Mark',
					'âž¿' => 'Double-Curly-Loop',
					'ã€½' => 'Part-Alternation-Mark',
					'âœ³' => 'Eight-Spoked-Asterisk',
					'âœ´' => 'Eight-Pointed-Star',
					'Â©' => 'Copyright',
					'Â®' => 'Registered',
					'â„¢' => 'Trade-Mark',
					'#ï¸âƒ£' => 'Keycap-Number-Sign',
					'0ï¸âƒ£' => 'Keycap-Digit-Zero',
					'1ï¸âƒ£' => 'Keycap-Digit-One',
					'2ï¸âƒ£' => 'Keycap-Digit-Two',
					'3ï¸âƒ£' => 'Keycap-Digit-Three',
					'4ï¸âƒ£' => 'Keycap-Digit-Four',
					'5ï¸âƒ£' => 'Keycap-Digit-Five',
					'6ï¸âƒ£' => 'Keycap-Digit-Six',
					'7ï¸âƒ£' => 'Keycap-Digit-Seven',
					'8ï¸âƒ£' => 'Keycap-Digit-Eight',
					'9ï¸âƒ£' => 'Keycap-Digit-Nine',
					'ðŸ…°' => 'A-Button-(Blood-Type)',
					'ðŸ†Ž' => 'AB-Button-(Blood-Type)',
					'ðŸ…±' => 'B-Button-(Blood-Type)',
					'ðŸ†’' => 'Cool-Button',
					'ðŸ†”' => 'ID-Button',
					'ðŸ†•' => 'New-Button',
					'ðŸ…¾' => 'O-Button-(Blood-Type)',
					'ðŸ†—' => 'OK-Button',
					'ðŸ…¿' => 'P-Button',
					'ðŸ†™' => 'Up!-Button',
					'ðŸ†š' => 'Vs-Button',
					'ðŸˆ' => 'Japanese-â€œHereâ€-Button',
					'ðŸˆ‚' => 'Japanese-â€œService-Chargeâ€-Button',
					'ðŸˆ·' => 'Japanese-â€œMonthly-Amountâ€-Button',
					'ðŸˆ¶' => 'Japanese-â€œNot-Free-of-Chargeâ€-Button',
					'ðŸˆ¯' => 'Japanese-â€œReservedâ€-Button',
					'ðŸ‰' => 'Japanese-â€œBargainâ€-Button',
					'ðŸˆ¹' => 'Japanese-â€œDiscountâ€-Button',
					'ðŸˆš' => 'Japanese-â€œFree-of-Chargeâ€-Button',
					'ðŸˆ¸' => 'Japanese-â€œApplicationâ€-Button',
					'ðŸˆ³' => 'Japanese-â€œVacancyâ€-Button',
					'ãŠ—' => 'Japanese-â€œCongratulationsâ€-Button',
					'ãŠ™' => 'Japanese-â€œSecretâ€-Button',
					'ðŸˆº' => 'Japanese-â€œOpen-for-Businessâ€-Button',
					'ðŸˆµ' => 'Japanese-â€œNo-Vacancyâ€-Button',
					'ðŸ”´' => 'Red-Circle',
					'ðŸ”³' => 'White-Square-Button',
					'ðŸ”²' => 'Black-Square-Button',
					'ðŸ' => 'Chequered-Flag',
					'ðŸŽŒ' => 'Crossed-Flags',
					'ðŸ‡¨ðŸ‡³' => 'FlagË-China',
					'ðŸ‡©ðŸ‡ª' => 'FlagË-Germany',
					'ðŸ‡ªðŸ‡¸' => 'FlagË-Spain',
					'ðŸ‡«ðŸ‡·' => 'FlagË-France',
					'ðŸ‡¬ðŸ‡§' => 'FlagË-United-Kingdom',
					'ðŸ‡®ðŸ‡¹' => 'FlagË-Italy',
					'ðŸ‡¯ðŸ‡µ' => 'FlagË-Japan',
					'ðŸ‡°ðŸ‡·' => 'FlagË-South-Korea',
					'ðŸ‡·ðŸ‡º' => 'FlagË-Russia',
					'ðŸ‡ºðŸ‡¸' => 'FlagË-United-States'
				];
		 
				foreach ($emojis as $char => $name) {
					$this->FILTERS["/$char/"] = "<img class=\"emoji\" src=\" " . $this->staticUrl . "image/emoji/$name.gif\" title=\"$name\" alt=\"$char\">";
				}
			}
		 
			public function onBeforeCommit(&$com): void {
				//VAGINA filter
				$red1 = mt_rand(0, 255);
				$green1 = mt_rand(0, 255);
				$blue1 = mt_rand(0, 255);
				$red2 = mt_rand(0, 255);
				$green2 = mt_rand(0, 255);
				$blue2 = mt_rand(0, 255);
				$bgstyle = sprintf('background-color: rgb(%d, %d, %d);', $red1, $green1, $blue1);
				$fontstyle = sprintf('color: rgb(%d, %d, %d);', $red2, $green2, $blue2);
				$this->FILTERS['/vagina/i'] = '<span style="'.$bgstyle.' '.$fontstyle.'">VAGINA</span>';
		 
				//PENIS filter
				$red3 = mt_rand(0, 255);
				$green3 = mt_rand(0, 255);
				$blue3 = mt_rand(0, 255);
				$red4 = mt_rand(0, 255);
				$green4 = mt_rand(0, 255);
				$blue4 = mt_rand(0, 255);
				$bgstyle = sprintf('background-color: rgb(%d, %d, %d);', $red3, $green3, $blue3);
				$fontstyle = sprintf('color: rgb(%d, %d, %d);', $red4, $green4, $blue4);
				$this->FILTERS['/penis/i'] = '<span style="'.$bgstyle.' '.$fontstyle.'">PENIS</span>';
		 
				//ANUS filter
				$red5 = mt_rand(0, 255);
				$green5 = mt_rand(0, 255);
				$blue5 = mt_rand(0, 255);
				$red6 = mt_rand(0, 255);
				$green6 = mt_rand(0, 255);
				$blue6 = mt_rand(0, 255);
				$bgstyle = sprintf('background-color: rgb(%d, %d, %d);', $red5, $green5, $blue5);
				$fontstyle = sprintf('color: rgb(%d, %d, %d);', $red6, $green6, $blue6);
				$this->FILTERS['/anus/i'] = '<span style="'.$bgstyle.' '.$fontstyle.'">ANUS</span>';
		 
				// Apply each filter in $FILTERS array to user's comment
				foreach ($this->FILTERS as $filterin => $filterout) {
					$com = preg_replace($filterin, $filterout, $com);
				}
			}
		}
